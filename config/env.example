# ============================================
# UNIFIED CODEGEN PLATFORM - ENVIRONMENT CONFIG
# ============================================
# Copy this file to create environment-specific configs:
#   - .env.development (for local development)
#   - .env.production (for production deployment)
#   - .env.test (for testing)
#   - .env.local (for local overrides, not committed)

# ============================================
# APPLICATION CONFIGURATION
# ============================================
APP_NAME=Unified Codegen Platform
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
SECRET_KEY=change-this-in-production-use-openssl-rand-hex-32

# API Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4
API_V1_PREFIX=/api/v1
RELOAD=true

# ============================================
# SECURITY
# ============================================
ALLOWED_HOSTS=*
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
API_KEY_HEADER=X-API-Key
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-jwt-secret-key-here

# ============================================
# LITELLM PROXY CONFIGURATION
# ============================================
LITELLM_URL=http://litellm:4000
LITELLM_MASTER_KEY=sk-1234567890abcdef
LITELLM_API_KEY=
LITELLM_TIMEOUT=300
LITELLM_MAX_RETRIES=3

# LLM Provider API Keys
GEMINI_API_KEY=your-gemini-api-key-here
OPENAI_API_KEY=your-openai-api-key-here
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=your-redis-password-change-me
REDIS_URL=redis://:your-redis-password-change-me@redis:6379/0
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# ============================================
# NATS CONFIGURATION
# ============================================
NATS_URL=nats://nats:4222
NATS_MAX_RECONNECT_ATTEMPTS=10
NATS_RECONNECT_TIME_WAIT=2
NATS_STREAM_NAME=codegen_jobs
NATS_CONSUMER_NAME=codegen_worker

# ============================================
# LANGFUSE CONFIGURATION
# ============================================
LANGFUSE_PUBLIC_KEY=pk-lf-your-public-key
LANGFUSE_SECRET_KEY=sk-lf-your-secret-key
LANGFUSE_HOST=http://langfuse:3000
LANGFUSE_ENABLED=true

# Langfuse Database (PostgreSQL)
LANGFUSE_DB_USER=langfuse
LANGFUSE_DB_PASSWORD=change-this-langfuse-db-password
LANGFUSE_DB_NAME=langfuse
LANGFUSE_DB_HOST=langfuse_db
LANGFUSE_DB_PORT=5432

# Langfuse Auth
# Generate with: openssl rand -base64 32
LANGFUSE_NEXTAUTH_SECRET=your-nextauth-secret-here
LANGFUSE_SALT=your-salt-value-here

# ============================================
# FIGMA CONFIGURATION (FUTURE)
# ============================================
FIGMA_CLIENT_ID=
FIGMA_CLIENT_SECRET=
FIGMA_ACCESS_TOKEN=
FIGMA_REDIRECT_URI=http://localhost:8000/api/v1/figma/callback

# ============================================
# GITHUB CONFIGURATION (FUTURE)
# ============================================
GITHUB_PAT=
GITHUB_OWNER=
GITHUB_REPO=
GITHUB_WEBHOOK_SECRET=

# ============================================
# STORAGE CONFIGURATION
# ============================================
STORAGE_PATH=/app/storage/generated
TEMP_PATH=/app/storage/temp
CACHE_PATH=/app/storage/cache
LOGS_PATH=/app/storage/logs

# File Limits
MAX_FILE_SIZE=104857600
MAX_FILES_PER_PROJECT=1000
ALLOWED_EXTENSIONS=py,js,jsx,ts,tsx,html,css,json,md,txt,yaml,yml

# ============================================
# CODE GENERATION SETTINGS
# ============================================
MAX_GENERATION_TIME=600
DEFAULT_FRONTEND_FRAMEWORK=react
DEFAULT_BACKEND_FRAMEWORK=nodejs
ENABLE_AUTO_FORMAT=true
ENABLE_LINTING=false

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# ============================================
# MONITORING & OBSERVABILITY
# ============================================
ENABLE_METRICS=true
METRICS_PORT=9000
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
GRAFANA_PASSWORD=admin

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/app/storage/logs/app.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# ============================================
# DATABASE (OPTIONAL - Future Use)
# ============================================
DATABASE_URL=postgresql://user:password@localhost:5432/codegen
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# ============================================
# WORKER CONFIGURATION
# ============================================
WORKER_CONCURRENCY=4
WORKER_PREFETCH_COUNT=1
WORKER_MAX_RETRIES=3
WORKER_RETRY_DELAY=5

# ============================================
# FEATURE FLAGS
# ============================================
FEATURE_FIGMA_INTEGRATION=false
FEATURE_GITHUB_INTEGRATION=false
FEATURE_CODE_VALIDATION=true
FEATURE_AUTO_DEPLOYMENT=false
